# 伤害计算乘区说明

## 通用乘区（直伤 + 异常都有）

| 乘区 | 说明 | 计算方式 |
|------|------|----------|
| 防御区 | 减伤效果 | 等级系数 / (等级系数 + 有效防御) |
| 抗性区 | 元素抗性减伤 | 1 - 敌人抗性 |
| 减易伤区 | 敌人受伤加成 | 1 + 减易伤buff |
| 失衡易伤区 | 失衡时易伤加成 | 1 + 失衡易伤倍率 |


敌人必须失衡才有失衡易伤区
秽盾状态敌人防御会翻倍
---

## 直伤公式

```
直害 = 攻击力 × 直伤倍率区 × 增伤区 × 暴击区 × 通用乘区
```

### 直伤乘区

| 乘区 | 说明 | 计算方式 |
|------|------|----------|
| **攻击区** | 角色最终攻击力 | get_final_atk() |
| **倍率区** | 技能伤害倍率 | 技能CSV数据 × 等级成长 |
| **增伤区** | 各种增伤buff | 1 + 增伤buff总和 |
| **暴击区** | 暴击期望 | 1 + 暴击率 × (暴击伤害 - 1) |

---

## 异常伤害公式

```
异常伤害 = 攻击力 × 异常倍率 × 精通区 × 异常暴击区 × 异常增伤区 × 异常积蓄区 × 通用乘区
```

### 异常乘区

| 乘区 | 说明 | 计算方式 |
|------|------|----------|
| **精通区** | 异常精通加成 | 异常精通 / 100 (上限10倍) |
| **异常倍率** | 异常基础倍率 | 由等级和异常类型决定 |
| **异常暴击区** | 异常暴击加成 | 1 + 异常暴击率 × (异常暴击伤害 - 1) |
| **异常增伤区** | 异常增伤buff | 1 + 异常增伤buff (上限3倍) |
| **异常积蓄区** | 触发异常的概率 | min(1, 异常积蓄 / 敌人异常条阈值) |
